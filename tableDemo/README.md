# 自实现固定列表格 Demo

这是一个使用原生 HTML、CSS 和 JavaScript 实现的固定列表格 demo。

## 功能特点

1. **多向固定功能**：
   - 左侧序号列固定
   - 右侧操作列固定
   - 表头固定（垂直滚动时保持可见）
   - 右侧内容可以水平和垂直滚动

2. **滚动同步**：
   - 垂直滚动时，固定列与主表格同步滚动
   - 滚动时表头保持固定，不会被遮挡

3. **动态滚动阴影**：
   - 仅当有水平滚动时，左侧固定列才显示阴影
   - 仅当未滚动到最右侧时，右侧固定列才显示阴影
   - 视觉上更清晰地指示滚动状态

4. **行高自动同步**：固定列与主表格的行高自动保持一致

5. **行悬停效果**：鼠标悬停在某一行时，对应的固定列行和主表格行同时高亮

6. **响应式设计**：适配不同屏幕尺寸

7. **触摸设备支持**：支持在移动设备上的触摸滚动，包括水平和垂直方向

## 实现原理

### HTML 结构

整个表格分为三个主要部分：
- 左侧固定列（`.left-fixed`）：包含固定不动的左侧序号列
- 可滚动部分（`.scrollable-part`）：包含可以水平和垂直滚动的主表格内容
- 右侧固定列（`.right-fixed`）：包含固定不动的右侧操作列

### CSS 实现

- 使用 `display: flex` 布局将左固定列、可滚动部分和右固定列并排放置
- 固定列设置了 `flex-shrink: 0` 确保其宽度不变
- 表头使用 `position: sticky` 和 `top: 0` 实现固定效果
- 可滚动部分设置 `overflow: auto` 允许内容在两个方向上滚动
- 使用 `z-index` 分层确保表头总是显示在内容之上
- 动态添加的 `.left-shadow` 和 `.right-shadow` 类用于实现滚动阴影效果

### JavaScript 实现

1. **行高同步**：计算并同步固定列和主表格每一行的高度
2. **滚动同步**：监听滚动事件，实时同步固定列和主表格的垂直滚动位置
3. **动态阴影**：根据滚动位置动态添加/移除阴影效果
4. **悬停效果**：为固定列和主表格的行添加鼠标悬停事件，实现同步高亮
5. **触摸支持**：为移动设备添加触摸事件处理，支持双向滚动

## 使用方法

直接在浏览器中打开 `index.html` 文件即可查看 demo。表格支持：
- 水平滚动：查看更多列
- 垂直滚动：查看更多行
- 左右固定列始终保持可见
- 表头始终保持在顶部可见

## 兼容性

支持所有现代浏览器，包括：
- Chrome
- Firefox
- Safari
- Edge
- 移动端浏览器 